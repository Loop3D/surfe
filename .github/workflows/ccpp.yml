name: C/C++ CI

on: [push]

jobs:
#   ubuntu-build:
#     runs-on: ubuntu-latest
#     steps:
#     - name: Checkout
#       uses: actions/checkout@v2.0.0
#     - name: Eigen install
#       run: sudo apt-get install libeigen3-dev
#     - name: Build project
#       uses: nicledomaS/cmake_build_action@v1
#       with:
#         submodule_update: ON
#         run_tests: ON
#         unit_test_build: -Dtest=ON

  build-windows:
      runs-on: windows-latest
      steps:
#         - name: Checkout surfe
#           uses: actions/checkout@v2.0.0
        - name: Checkout eigen
          uses: actions/checkout#v2.0.0
          with:
            repository: https://github.com/eigenteam/eigen-git-mirror.git
            path: eigen
      
# #       - name: Compile & Test
#         run: |
#           mkdir -p build
#           cd build
#           cmake -G "Visual Studio 15 2017 Win64" -DCMAKE_PREFIX_PATH:PATH=${{ steps.opengeode.outputs.path }} ..
#           cmake --build . --config ${{ matrix.config }}
#           ctest -C ${{ matrix.config }} --output-on-failure
#       - name: Notify slack
#         if: failure() && github.ref == 'refs/heads/master'
#         uses: 8398a7/action-slack@v2
#         with:
#           status: failure
#         env:
#           GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
#           SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK_URL }} 

